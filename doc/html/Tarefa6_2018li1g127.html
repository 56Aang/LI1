<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa6_2018li1g127</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Lu&#237;s Sobral &lt;a89474@alunos.uminho.pt&gt;;<br />Jo&#227;o Guedes &lt;a89588@alunos.uminho.pt&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa6_2018li1g127</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Fun&#231;&#245;es principais da Tarefa 6.</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Introdu&#231;&#227;o Tarefa 6:</h1><p>Neste m&#243;dulo trabalhamos com 2 fun&#231;&#245;es principais, bot e reagedir que recebe j&#225; as informa&#231;&#245;es do bot.</p><p>O objetivo deste m&#243;dulo passou por criar um bot que, recebendo o estado, conseguisse mover-se no mapa, disparar contra os jogadores e defender-se.</p><h1>Estrat&#233;gias utilizadas:</h1><ul><li>As jogadas que s&#227;o feitas, s&#227;o todas gra&#231;as &#224; fun&#231;&#227;o <strong>reagedir</strong> que recebe o identificador do bot, o Estado e o estado do Bot, e que dependendo das v&#225;rias posi&#231;&#245;es, lista de disparos, etc... , escolhe a melhor op&#231;&#227;o para essa situa&#231;&#227;o espec&#237;fica.</li><li>Uma fun&#231;&#227;o importante utilizada, sen&#227;o a mais importante, &#233; a <strong>verificaBloco</strong> que, dando 2 posi&#231;&#245;es, verifica se existe blocos insdestrutiveis entre essas posi&#231;&#245;es. Esta fun&#231;&#227;o &#233; das mais importantes, pois se existir um bloco indestrutivel entre o bot e um jogador/disparo, o bot n&#227;o vai se &quot;preocupar&quot; com eles.</li><li>Existe ainda outras duas fun&#231;&#245;es essenciais: <strong>eixox</strong> e <strong>eixoy</strong> - O objetivo destas fun&#231;&#245;es &#233; verificar se existe algum jogador que esteja em linha em rela&#231;&#227;o ao Bot seja numa linha (eixox) ou numa coluna (eixoy). Caso n&#227;o exista, o Bot n&#227;o se deve preocupar com esse Jogador.</li></ul><h2>Defesa:</h2><ul><li>Inicialmente come&#231;amos por implementar no bot, fun&#231;&#245;es que fariam com que ele de certa forma se defendesse. Sempre que se deparasse com algu&#233;m que possuisse lasers, ele iria fugir para onde havia caminho livre.</li><li>Pode-se dizer que o cora&#231;&#227;o da defesa est&#225; na fun&#231;&#227;o <strong>reagedir</strong> , porque &#233; l&#225; que tem as condi&#231;&#245;es necess&#225;rias para que o Bot consiga fugir dos jogadores com sucesso.</li><li>Como j&#225; foi referido em cima, as fun&#231;&#245;es <strong>eixox</strong> e <strong>eixoy</strong> t&#234;m um papel fundamental na Defesa.</li><li>Al&#233;m disso, se houver disparos de canh&#227;o em dire&#231;&#227;o ao bot, ele vai virar-se para os disparos e disparar tamb&#233;m de forma a defender-se.</li><li>Uma fun&#231;&#227;o importante para esta situa&#231;&#227;o &#233; a <strong>reagedis</strong> que, conforme as condi&#231;&#245;es impostas, exporta a melhor op&#231;&#227;o e a <strong>suscdisparo</strong> que verifica se existe algum disparo canh&#227;o em dire&#231;&#227;o ao Bot.</li></ul><h3>Exemplo Defesa:</h3><ul><li>Um jogador que esteja virado horizontalmente para o bot com lasers, o bot iria fugir para cima, caso o caminho estivesse livre, sen&#227;o iria para baixo. Em ultimo caso, iria virar-se para o jogador e disparar.</li></ul><h2>Ataque:</h2><ul><li>Depois dessas fun&#231;&#245;es estarem implementadas, decidimos acrescentar algumas fun&#231;&#245;es em que o bot iria atacar. Estas foram inseridas na fun&#231;&#227;o j&#225; feita <strong>reagedir</strong> .</li><li>A maior parte destas fun&#231;&#245;es acontecem quando o Jogador em causa, n&#227;o possui lasers. Caso isto se verifique, sempre que um Jogador estiver na linha/coluna do bot, o bot vai virar-se na dire&#231;&#227;o em que se encontra o Jogador, e come&#231;ar a disparar Lasers (caso os tenha) ou Canh&#245;es.</li><li>Mais tarde, acrescentamos a fun&#231;&#227;o em que, se o bot for afetado por um choque, ele vai usar o seu choque tamb&#233;m para nenhum dos Jogadores se puder mexer, e assim o bot n&#227;o fica em desvantagem.</li></ul><h3>Exemplos Ataque:</h3><ul><li>Um jogador que se encontre na mesma coluna/linha que o bot, caso o bot tenha lasers, ele vai virar-se para o jogador e disparar os seus lasers. Quando j&#225; n&#227;o tiver lasers, ele dispara Canh&#245;es s&#243;, e s&#243; apenas se o Jogador n&#227;o estiver virado para o Bot, ou se o Jogador estiver virado para ele, mas tiver 0 lasers.</li><li>Um jogador que utilize o choque que afete o bot, o Bot vai recontribuir com um choque caso os tenha.</li></ul><h2>Caso Neutro:</h2><ul><li>Este caso acontece quando n&#227;o h&#225; jogadores a quem reagir, nem disparos. Neste caso, inicialmente pens&#225;mos em mant&#234;-lo quieto, mas face aos resultados dos torneios, decidimos coloc&#225;-lo a andar pelas bordas no sentido dos ponteiros do rel&#243;gio &#224; procura de Jogadores.</li></ul><h3>Exemplos Neutro:</h3><ol><li>Caso n&#227;o haja nenhum jogador para reagir, o Bot vai come&#231;ar a andar para cima enquanto poss&#237;vel, depois para a direita, para baixo e para a esquerda conforme as condi&#231;&#245;es.</li><li>Caso esteja com blocos destrutiveis &#224; volta, vai destrui-los.</li></ol><h1>Conclus&#227;o:</h1><ul><li>No fim, pensamos que o Bot n&#227;o ficou perfeito, mas consegue complicar a vida aos outros jogadores. Ele consegue esquivar-se dos lasers, atacar os jogadores, defender-se dos canh&#245;es, contra-atacar os choques e adaptar-se a mapas adversos.</li><li>Por isso, penso que a tarefa ficou completa, e apesar do Bot n&#227;o jogar como um ser-humano, penso que ficou bem construido, adaptando-se tanto &#224; posi&#231;&#227;o dos v&#225;rios jogadores, como &#224; lista de disparos.</li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:bot">bot</a> :: Int -&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a> -&gt; Maybe <a href="LI11819.html#t:Jogada" title="LI11819">Jogada</a></li><li class="src short"><a href="#v:reagedir">reagedir</a> :: Int -&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a> -&gt; <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; Maybe <a href="LI11819.html#t:Jogada" title="LI11819">Jogada</a></li><li class="src short"><a href="#v:botchoque">botchoque</a> :: Int -&gt; [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] -&gt; Bool</li><li class="src short"><a href="#v:verificaBloco">verificaBloco</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; Bool</li><li class="src short"><a href="#v:verificaLinhax">verificaLinhax</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; Bool</li><li class="src short"><a href="#v:verificaLinhaxi">verificaLinhaxi</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; Bool</li><li class="src short"><a href="#v:verificaColunay">verificaColunay</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; Bool</li><li class="src short"><a href="#v:verificaColunayi">verificaColunayi</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; Bool</li><li class="src short"><a href="#v:suscdisparo">suscdisparo</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] -&gt; Bool</li><li class="src short"><a href="#v:verificaDisparos">verificaDisparos</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a> -&gt; Bool</li><li class="src short"><a href="#v:reagedis">reagedis</a> :: <a href="LI11819.html#t:Direcao" title="LI11819">Direcao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; Maybe <a href="LI11819.html#t:Jogada" title="LI11819">Jogada</a></li><li class="src short"><a href="#v:oposta">oposta</a> :: <a href="LI11819.html#t:Direcao" title="LI11819">Direcao</a> -&gt; <a href="LI11819.html#t:Direcao" title="LI11819">Direcao</a></li><li class="src short"><a href="#v:eixox">eixox</a> :: Int -&gt; Int -&gt; Bool</li><li class="src short"><a href="#v:eixoy">eixoy</a> :: Int -&gt; Int -&gt; Bool</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Fun&#231;&#245;es principais da Tarefa 6.</h1></a><div class="top"><p class="src"><a id="v:bot" class="def">bot</a> <a href="#v:bot" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>O identificador do <code><a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a></code> associado ao ro<code><a href="Tarefa6_2018li1g127.html#v:bot" title="Tarefa6_2018li1g127">bot</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a></td><td class="doc"><p>O <code><a href="LI11819.html#t:Estado" title="LI11819">Estado</a></code> para o qual o ro<code><a href="Tarefa6_2018li1g127.html#v:bot" title="Tarefa6_2018li1g127">bot</a></code> deve tomar uma decis&#227;o.</p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada" title="LI11819">Jogada</a></td><td class="doc"><p>Uma poss&#237;vel <code><a href="LI11819.html#t:Jogada" title="LI11819">Jogada</a></code> a efetuar pelo ro<code><a href="Tarefa6_2018li1g127.html#v:bot" title="Tarefa6_2018li1g127">bot</a></code>.</p></td></tr></table></div><div class="doc"><p>Define um ro<code><a href="Tarefa6_2018li1g127.html#v:bot" title="Tarefa6_2018li1g127">bot</a></code> capaz de jogar autonomamente o jogo.</p></div></div><div class="top"><p class="src"><a id="v:reagedir" class="def">reagedir</a> :: Int -&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a> -&gt; <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; Maybe <a href="LI11819.html#t:Jogada" title="LI11819">Jogada</a> <a href="#v:reagedir" class="selflink">#</a></p><div class="doc"><p>recebe o identificador , o estado, o estado do Bot e aplica uma jogada consoante as condi&#231;&#245;es</p></div></div><div class="top"><p class="src"><a id="v:botchoque" class="def">botchoque</a> :: Int -&gt; [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] -&gt; Bool <a href="#v:botchoque" class="selflink">#</a></p><div class="doc"><p>recebe o identificador do bot, uma lista de disparos, e verifica que existe algum choque pertencente ao bot</p></div></div><div class="top"><p class="src"><a id="v:verificaBloco" class="def">verificaBloco</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; Bool <a href="#v:verificaBloco" class="selflink">#</a></p><div class="doc"><p>verifica se existe Bloco Indestrutivel entre duas posi&#231;&#245;es</p></div></div><div class="top"><p class="src"><a id="v:verificaLinhax" class="def">verificaLinhax</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; Bool <a href="#v:verificaLinhax" class="selflink">#</a></p><div class="doc"><p>verifica se existe algum bloco insdestrutivel entre a posi&#231;&#227;o do bot e outra posi&#231;&#227;o ( para y &gt; b - Bot &#224; esquerda)</p></div></div><div class="top"><p class="src"><a id="v:verificaLinhaxi" class="def">verificaLinhaxi</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; Bool <a href="#v:verificaLinhaxi" class="selflink">#</a></p><div class="doc"><p>verifica se existe algum bloco insdestrutivel entre a posi&#231;&#227;o do bot e outra posi&#231;&#227;o ( para y &lt; b - Bot &#224; direita)</p></div></div><div class="top"><p class="src"><a id="v:verificaColunay" class="def">verificaColunay</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; Bool <a href="#v:verificaColunay" class="selflink">#</a></p><div class="doc"><p>verifica se existe algum bloco insdestrutivel entre a posi&#231;&#227;o do bot e outra posi&#231;&#227;o ( para x &gt; a - Bot em cima)</p></div></div><div class="top"><p class="src"><a id="v:verificaColunayi" class="def">verificaColunayi</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; Bool <a href="#v:verificaColunayi" class="selflink">#</a></p><div class="doc"><p>verifica se existe algum bloco insdestrutivel entre a posi&#231;&#227;o do bot e outra posi&#231;&#227;o ( para x &lt; a - Bot em baixo)</p></div></div><div class="top"><p class="src"><a id="v:suscdisparo" class="def">suscdisparo</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] -&gt; Bool <a href="#v:suscdisparo" class="selflink">#</a></p><div class="doc"><p>recebe a posi&#231;&#227;o do Bot, uma lista de disparos, e verifica se existe algum disparo canh&#227;o a ir na dire&#231;&#227;o do bot</p></div></div><div class="top"><p class="src"><a id="v:verificaDisparos" class="def">verificaDisparos</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a> -&gt; Bool <a href="#v:verificaDisparos" class="selflink">#</a></p><div class="doc"><p>compara a posi&#231;&#227;o do bot e a posi&#231;&#227;o do disparo e verifica se est&#225; a dirigir-se na dire&#231;&#227;o do bot</p></div></div><div class="top"><p class="src"><a id="v:reagedis" class="def">reagedis</a> :: <a href="LI11819.html#t:Direcao" title="LI11819">Direcao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; Maybe <a href="LI11819.html#t:Jogada" title="LI11819">Jogada</a> <a href="#v:reagedis" class="selflink">#</a></p><div class="doc"><p>recebe a dire&#231;&#227;o a dire&#231;&#227;o do Bot, a sua posi&#231;&#227;o, a lista de disparos e o mapa e , consoante condi&#231;&#245;es, executa uma jogada
 | se existir um bloco indestrut&#237;vel entre as 2 posi&#231;&#245;es ou se o disparo n&#227;o estiver na dire&#231;&#227;o do bot, executa a fun&#231;&#227;o para o resto da lsita de disparos</p></div></div><div class="top"><p class="src"><a id="v:oposta" class="def">oposta</a> :: <a href="LI11819.html#t:Direcao" title="LI11819">Direcao</a> -&gt; <a href="LI11819.html#t:Direcao" title="LI11819">Direcao</a> <a href="#v:oposta" class="selflink">#</a></p><div class="doc"><p>fun&#231;&#227;o que transforma uma dire&#231;&#227;o na dire&#231;&#227;o oposta</p></div></div><div class="top"><p class="src"><a id="v:eixox" class="def">eixox</a> :: Int -&gt; Int -&gt; Bool <a href="#v:eixox" class="selflink">#</a></p><div class="doc"><p>dando a linha do jogador e a linha do bot, verifica se est&#225; em zona de perigo</p></div></div><div class="top"><p class="src"><a id="v:eixoy" class="def">eixoy</a> :: Int -&gt; Int -&gt; Bool <a href="#v:eixoy" class="selflink">#</a></p><div class="doc"><p>dando a coluna do jogador e a coluna do bot, verifica se est&#225; em zona de perigo</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.20.0</p></div></body></html>